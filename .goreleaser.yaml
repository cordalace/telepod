project_name: telepod
before:
  hooks:
  - go mod tidy
builds:
- binary: telepod
  env:
  - CGO_ENABLED=0
  main: ./cmd/telepod
  goos:
  - linux
  - windows
  - darwin
  flags:
  - -trimpath
  ldflags:
  - -s
  - -w
  - -extldflags
  - -static
  - -X
  - main.version={{.Version}}
  - -X
  - main.commit={{.Commit}}
  - -X
  - main.date={{.Date}}
  - -X
  - main.builtBy=goreleaser
  tags:
  # https://github.com/containers/podman/issues/12548#issuecomment-989053364
  # https://github.com/containers/podman/issues/15733#issuecomment-1242971062
  - remote
  - exclude_graphdriver_btrfs
  - btrfs_noversion
  - exclude_graphdriver_devicemapper
  - containers_image_openpgp
  mod_timestamp: "{{ .CommitTimestamp }}"

checksum:
  name_template: 'checksums.txt'
snapshot:
  name_template: "{{ incpatch .Version }}-next"
changelog:
  sort: asc
  filters:
    exclude:
    - '^docs:'
    - '^test:'
gitea_urls:
  api: https://codeberg.org/api/v1
  download: https://codeberg.org

# yaml-language-server: $schema=https://goreleaser.com/static/schema.json
# vim: set ts=2 sw=2 tw=0 fo=cnqoj
